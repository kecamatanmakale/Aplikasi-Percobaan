<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Admin Musrenbang Makale</title>
    <style>
        body { font-family: sans-serif; margin: 0; background: #f0f2f5; display: flex; }
        .sidebar { width: 250px; background: #1a5bb8; height: 100vh; position: fixed; color: white; padding: 25px; }
        .main-content { margin-left: 270px; padding: 40px; width: 100%; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center; max-width: 300px; }
        .btn-view { display: block; background: #1f8a50; color: white; padding: 15px; margin-top: 20px; border-radius: 8px; text-decoration: none; font-weight: bold; }
        .btn-logout { background: #c0392b; color: white; border: none; padding: 10px; width: 100%; margin-top: 50px; cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h3>ADMIN PANEL</h3>
        <p>Kecamatan Makale</p>
        <button class="btn-logout" onclick="logout()">LOGOUT</button>
    </div>
    <div class="main-content">
        <h1>Monitoring T.A. 2027</h1>
        <div class="card">
            <h4>Total Usulan Masuk</h4>
            <h2 id="totalUsulan">Memuat...</h2>
            <a href="rekap_admin.html" class="btn-view">LIHAT SEMUA DATA</a>
        </div>
    </div>
    <script>
        if(localStorage.getItem("role") !== "admin") window.location.href = "index.html";
        async function loadStats() {
            const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxtwlajG20K1PJXjwrctoZFr6aNaqoq923J7cq9ybZMmyRZU4oMyTj-IBKBfD58UEM-fQ/exec";
            const res = await fetch(SCRIPT_URL);
            const data = await res.json();
            document.getElementById("totalUsulan").innerText = data.length + " Usulan";
        }
        loadStats();
        function logout() { localStorage.clear(); window.location.href = "index.html"; }
    </script>
</body>
</html>