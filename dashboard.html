<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dashboard Operator - Musrenbang 2027</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body{margin:0;font-family: 'Segoe UI', Arial, sans-serif; background:#f4f6f9}
        .header{background:#1f8a50;color:#fff;padding:15px;display:flex;align-items:center;box-shadow: 0 2px 5px rgba(0,0,0,0.1)}
        .logo{width:45px;margin-right:15px}
        .container { max-width: 500px; margin: auto; }
        .card{background:#fff;margin:20px;padding:25px;border-radius:12px;box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center;}
        h3 { color: #333; margin-top: 0; border-bottom: 2px solid #f4f6f9; padding-bottom: 10px; }
        button{width:100%;padding:14px;margin-top:12px;background:#1f8a50;color:#fff;border:none;border-radius:8px;font-weight:bold;cursor:pointer;transition:0.3s;font-size:14px;display:flex;align-items:center;justify-content:center;gap:10px}
        button:hover{background:#145a32;transform:translateY(-2px)}
        .logout{background:#c0392b;margin-top:25px}
        .logout:hover{background:#a93226}
        #kel { font-size: 18px; letter-spacing: 0.5px; }
    </style>
</head>

<body>

<div class="header">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/01/Logo_Tana_Toraja.png" class="logo">
    <strong id="kel">Memuat Sesi...</strong>
</div>

<div class="container">
    <div class="card">
        <h3>MENU OPERATOR</h3>
        <button onclick="goInput()">‚ûï INPUT / KELOLA USULAN</button>
        <button onclick="goInput()">üì§ EXPORT EXCEL (via Kelola)</button>
        <button onclick="goInput()">üñ®Ô∏è PRINT PDF (via Kelola)</button>
        
        <button class="logout" onclick="logout()">üö™ LOGOUT</button>
    </div>
</div>

<script>
    // 1. SINKRONISASI KEY: Menggunakan "username" sesuai index.html dan input.html
    const role = localStorage.getItem("role");
    const user = localStorage.getItem("username");

    // Jika bukan operator atau data kosong, tendang ke login
    if(role !== "operator" || !user) {
        alert("Sesi tidak valid. Silakan login kembali.");
        location.href = "index.html";
    } else {
        // Tampilkan nama Kelurahan/Lembang di Header
        document.getElementById("kel").innerText = user;
    }

    function goInput() {
        location.href = "input.html";
    }

    function logout() {
        if(confirm("Apakah Anda yakin ingin keluar?")) {
            localStorage.clear();
            location.href = "index.html";
        }
    }
</script>

</body>
</html>
